document.addEventListener("DOMContentLoaded",function(){const i=document.getElementById("class-select"),t=document.getElementById("subject-select"),n=document.getElementById("semester-select");i&&(i.addEventListener("change",function(){const o=this.value;o?fetch(`/api/subjects/${o}`).then(e=>e.json()).then(e=>{t.innerHTML='<option value="">أختار المادة</option>',n.innerHTML='<option value="">أختار الفصل</option>',n.disabled=!0,e.message?console.error(e.message):(e.forEach(s=>{t.innerHTML+=`<option value="${s.id}">${s.subject_name}</option>`}),t.disabled=!1)}).catch(e=>console.error("Error:",e)):(t.innerHTML='<option value="">أختار المادة</option>',t.disabled=!0,n.innerHTML='<option value="">أختار الفصل</option>',n.disabled=!0)}),t.addEventListener("change",function(){const o=this.value;o?fetch(`/api/semesters/${o}`).then(e=>e.json()).then(e=>{n.innerHTML='<option value="">أختار الفصل</option>',e.message?console.error(e.message):(e.forEach(s=>{n.innerHTML+=`<option value="${s.id}">${s.semester_name}</option>`}),n.disabled=!1)}).catch(e=>console.error("Error:",e)):(n.innerHTML='<option value="">أختار الفصل</option>',n.disabled=!0)}))});
